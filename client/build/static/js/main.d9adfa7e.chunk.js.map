{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","name","billingAddress","description","amount","props","stripeKey","process","className","Component","connect","actions","Header","this","auth","href","key","style","margin","credits","to","id","renderContent","Landing","Dashboard","SurveyNew","App","path","component","exact","action","combineReducers","state","store","createStore","reducers","applyMiddleware","reduxThnuk","ReactDom","render","document","querySelector"],"mappings":"6YAGaA,EAAY,yDAAM,WAAMC,GAAN,eAAAC,EAAA,sEACTC,IAAMC,IAAI,qBADD,OACrBC,EADqB,OAE3BJ,EAAS,CAAEK,KCLW,aDKMC,QAAQF,EAAIG,OAFb,2CAAN,uDAKZC,EAAc,SAACC,GAAD,8CAAY,WAAMT,GAAN,eAAAC,EAAA,sEACjBC,IAAMQ,KAAK,cAAeD,GADT,OAC7BL,EAD6B,OAEnCJ,EAAS,CAAEK,KCVW,aDUMC,QAAQF,EAAIG,OAFL,2CAAZ,uD,iBEHrBI,E,uKACO,IAAD,OACJ,OACI,kBAAC,IAAD,CACAC,KAAK,SACLC,eAAe,iBACfC,YAAY,sBACZC,OAAQ,IACRN,MAAQ,SAAAA,GAAK,OAAI,EAAKO,MAAMR,YAAYC,IACxCQ,UAAWC,+GAEP,4BAAQC,UAAU,qBAAlB,oB,GAXOC,aAgBRC,cAAQ,KAAMC,EAAdD,CAAwBV,GChBjCY,E,8KAEE,OAAOC,KAAKR,MAAMS,MACd,KAAK,KACL,OACA,KAAK,EACL,OAAO,4BAAI,uBAAGC,KAAK,gBAAR,sBACX,QACA,MAAO,CACN,wBAAIC,IAAI,KAAI,kBAAC,EAAD,OACb,wBAAIA,IAAI,IAAIC,MAAO,CAACC,OAAO,WAA3B,aAAiDL,KAAKR,MAAMS,KAAKK,SACjE,wBAAIH,IAAI,KAAI,uBAAGD,KAAK,eAAR,e,+BAKhB,OACI,6BACI,yBAAKP,UAAU,eACf,kBAAC,IAAD,CAAMY,GAAIP,KAAKR,MAAMS,KAAO,WAAW,IACtCN,UAAU,cADX,eAKA,wBAAIa,GAAG,aAAab,UAAU,8BACzBK,KAAKS,uB,GAzBLb,aAqCNC,mBAJf,YACI,MAAO,CAACI,KADoB,EAANA,QAIXJ,CAA0BE,GCjC1BW,EARC,WACZ,OACI,6BACI,sCAAe,iECMrBC,EAAY,kBAAM,0CAClBC,EAAY,kBAAM,0CAGlBC,E,kLAEEb,KAAKR,MAAMjB,c,+BAIf,OACI,yBAAKoB,UAAU,aACf,kBAAC,IAAD,KACG,6BACA,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOmB,KAAK,IAAIC,UAAWL,EAASM,OAAO,IAC3C,kBAAC,IAAD,CAAOF,KAAK,WAAWC,UAAWJ,EAAWK,OAAK,IAClD,kBAAC,IAAD,CAAOF,KAAK,eAAeC,UAAWH,W,GAb/BhB,aAsBHC,cAAQ,KAAKoB,EAAbpB,CAAqBgB,GCjCrBK,cAAgB,CAC3BjB,KCFW,WAA+B,IAAtBkB,EAAqB,uDAAb,KAAMF,EAAO,uCACxC,OAAQA,EAAOpC,MACX,INJiB,aMKjB,OAAOoC,EAAOnC,UAAW,EACzB,QACI,OAAOqC,MCIdC,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MAExDC,IAASC,OACT,kBAAC,IAAD,CAAUN,MAAOA,GACb,kBAAC,EAAD,OAEFO,SAASC,cAAc,Y","file":"static/js/main.d9adfa7e.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { FETCH_USER } from './types';\r\n\r\nexport const fetchUser = () => async dispatch => {\r\n    const res = await axios.get('/api/current_user')\r\n    dispatch({ type:FETCH_USER, payload:res.data});\r\n};  \r\n\r\nexport const handleToken = (token)  => async dispatch => {\r\n    const res = await axios.post('/api/stripe', token);\r\n    dispatch({ type:FETCH_USER, payload:res.data});\r\n};  ","export const FETCH_USER = 'fetch_user';","import React, {Component} from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nclass Payments extends Component{\r\n    render(){\r\n        return(\r\n            <StripeCheckout\r\n            name=\"Emaily\"\r\n            billingAddress=\"BillingAddress\"\r\n            description=\"Please payment here\"\r\n            amount={500}\r\n            token={ token => this.props.handleToken(token)}\r\n            stripeKey={process.env.REACT_APP_STRIPE_KEY}\r\n            >\r\n                <button className=\"btn red lighten-3\">Add Credits</button>\r\n            </StripeCheckout>\r\n        );\r\n    }\r\n}\r\nexport default connect(null, actions) (Payments);","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport Payments from './Payments';\r\n\r\nclass Header extends Component{\r\n    renderContent(){\r\n        switch(this.props.auth){\r\n            case null:\r\n            return;\r\n            case false:\r\n            return <li><a href=\"/auth/google\">Login with Google</a></li>\r\n            default: \r\n            return [\r\n             <li key=\"1\"><Payments/></li>,\r\n            <li key=\"2\" style={{margin:'0 10px'}}> Credits: {this.props.auth.credits}</li>,\r\n            <li key=\"3\"><a href=\"/api/logout\">Logout</a></li>]\r\n        }\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <nav>\r\n                <div className=\"nav-wrapper\">\r\n                <Link to={this.props.auth ? '/surveys':'/'}\r\n                 className=\"brand-logo\"> \r\n                 &nbsp; Emaily\r\n                 </Link>\r\n\r\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                    {this.renderContent()}\r\n                  </ul>\r\n                </div>\r\n             </nav>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({auth}){\r\n    return {auth }\r\n}\r\n\r\nexport default connect(mapStateToProps) (Header);","import React from 'react';\r\nconst Landing = () => {\r\n    return(\r\n        <div>\r\n            <h1>Emaily</h1><p>Collect Feedback from Your Users</p>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Landing;","// React Router\r\n\r\nimport React, {Component} from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as action from '../actions';\r\n\r\nimport Header from './Header';\r\nimport Landing from './Landing';\r\n\r\nconst Dashboard = () => <h2>Dashboard</h2>\r\nconst SurveyNew = () => <h2>SurveyNew</h2>\r\n\r\n\r\nclass App extends Component{\r\n    componentDidMount(){\r\n        this.props.fetchUser();\r\n    }\r\n\r\n   render(){\r\n    return(\r\n        <div className=\"container\">\r\n        <BrowserRouter>\r\n           <div>\r\n           <Header/>\r\n           <Route path=\"/\" component={Landing} exact={true}></Route>\r\n           <Route path=\"/surveys\" component={Dashboard} exact></Route>\r\n           <Route path=\"/surveys/new\" component={SurveyNew}></Route>\r\n           </div>\r\n        </BrowserRouter>\r\n        </div>\r\n    );\r\n   }\r\n};\r\n\r\n\r\nexport default connect(null,action)(App);","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n    auth: authReducer\r\n});","import { FETCH_USER } from '../actions/types';\r\n\r\nexport default function(state = null, action){\r\n     switch (action.type){\r\n         case FETCH_USER:\r\n         return action.payload || false ;\r\n         default:\r\n             return state;\r\n    }\r\n}","// Redux \r\nimport 'materialize-css/dist/css/materialize.min.css';\r\nimport React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport reduxThnuk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers, {}, applyMiddleware(reduxThnuk));\r\n\r\nReactDom.render(\r\n<Provider store={store}>\r\n    <App/>\r\n</Provider>\r\n, document.querySelector('#root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}